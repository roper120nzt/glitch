<!DOCTYPE html>
<html>
  <head>
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://cdn.glitch.global/54432690-cd55-43ec-b376-76a483be1314/aframe-stereo-component.min.js.txt?v=1656621414518"></script>
  </head>
  <script>
    AFRAME.registerComponent("sbs-stereoscopic-viewer", {
      init: function () {
        var cameraMain = document
          .querySelector("a-scene")
          .querySelector("#mainCamera");
        var entityLeftView = cameraMain.querySelector("#leftView");
        var entityRightView = cameraMain.querySelector("#leftView");
        var inputImgUrl = document.getElementById("imgUrl");
        var imgPreview = document.getElementById("preview");
        inputImgUrl.addEventListener("change", function () {
          
          imgPreview.src = this.value;
          imgPreview.style.width = '100px';
          entityLeftView.setAttribute("geometry", "width", "1");
          entityRightView.setAttribute("geometry", "width", "1");
          entityLeftView.setAttribute("material", "src", this.value);
          entityRightView.setAttribute("material", "src", this.value);
        });
      },
    });
  </script>
  <body>
    <a-scene sbs-stereoscopic-viewer>
      <a-entity
        id="mainCamera"
        camera
        look-controls
        wasd-controls
        position="0 1.6 0"
      >
        <a-entity
          id="leftView"
          geometry="primitive:plane; width:0.7919; height:1"
          material="shader:flat; repeat: 0.5 1; offset:0; fog:false; src:https://dms-cf-10.dimu.org/image/022wZW33q9z9?filename=TEKA0024234.jpg&dimension=max"
          position="0 0 -2"
          rotation="0 0 0"
          stereo="eye:left"
        ></a-entity>
        <a-entity
          id="rightView"
          geometry="primitive:plane; width:0.7919; height:1"
          material="shader:flat; repeat: 0.5 1; offset:0.5; fog:false; src:https://dms-cf-10.dimu.org/image/022wZW33q9z9?filename=TEKA0024234.jpg&dimension=max"
          position="0 0 -2"
          rotation="0 0 0"
          stereo="eye:right"
        ></a-entity>
      </a-entity>
      <a-plane
        position="0 0 0"
        rotation="-90 0 0"
        width="4"
        height="4"
        color="#A0A0A0"
      ></a-plane>
      <a-sky color="#1F1F1F"></a-sky>
    </a-scene>
    <div style="position: fixed; top: 10px; left: 10px; width: 50%">
      <input
        type="text"
        id="imgUrl"
        placeholder="Paste URL of SBS stereosocpic 3D image here and press enter."
        style="width: 100%"
      />
      <br><br>
       <img id="preview" style="width:200px"> 
    </div>
  </body>
</html>
